rooms:
  # Room Configuration
  # 
  # Temperature Sensors:
  # - entity_id: The Home Assistant entity ID
  # - role: 'primary' or 'fallback' (primary sensors are used first)
  # - timeout_m: Minutes before sensor is considered stale
  # - temperature_attribute: (optional) Read temperature from this attribute instead of state
  #     Example: For climate entities, use "current_temperature" to read the TRV's
  #              internal temperature sensor as an attribute rather than state
  #
  # Temperature Smoothing (optional):
  # - smoothing.enabled: Enable EMA smoothing for displayed temperature
  # - smoothing.alpha: Smoothing factor (0.0-1.0, default 0.3)
  #     0.3 = 30% new reading, 70% history (recommended for rooms with multiple sensors)
  #     1.0 = no smoothing (default if not specified)
  #   Useful when multiple sensors in different room locations cause averaged temperature
  #   to flip across rounding boundaries. Applied AFTER sensor fusion.
  #
  - id: pete
    name: "Pete's Room"
    precision: 1
    sensors:
      - entity_id: sensor.roomtemp_pete
        role: primary
        timeout_m: 180
      - entity_id: sensor.pete_snzb02_temperature
        role: primary
        timeout_m: 180
    trv:
      entity_id: climate.trv_pete
    hysteresis:
      on_delta_c: 0.40
      off_delta_c: 0.10
    valve_bands:
      t_low: 0.30
      t_mid: 0.80
      t_max: 1.50
      low_percent: 35.0
      mid_percent: 65.0
      max_percent: 100.0
      step_hysteresis_c: 0.05
    valve_update:
      min_interval_s: 30
  - id: games
    name: "Dining Room"
    precision: 1
    sensors:
      - entity_id: sensor.roomtemp_games
        role: primary
        timeout_m: 180
    trv:
      entity_id: climate.trv_games
  - id: lounge
    name: "Living Room"
    precision: 1
    # Example: Enable smoothing for rooms with multiple sensors in different locations
    smoothing:
      enabled: true
      alpha: 0.3  # 30% new, 70% history - reduces boundary flipping
    sensors:
      - entity_id: sensor.roomtemp_lounge
        role: primary
        timeout_m: 180
      - entity_id: sensor.awair_omni_270_temperature
        role: primary
        timeout_m: 180
    trv:
      entity_id: climate.trv_lounge
  - id: abby
    name: "Abby's Room"
    precision: 1
    sensors:
      - entity_id: sensor.abby_xiaomi_temperature
        role: primary
        timeout_m: 180
      # Example: Using a climate entity's current_temperature attribute
      # - entity_id: climate.trv_abby
      #   role: fallback
      #   timeout_m: 180
      #   temperature_attribute: current_temperature
    trv:
      entity_id: climate.trv_abby
  - id: office
    name: "Office"
    precision: 1
    sensors:
      - entity_id: sensor.roomtemp_office
        role: primary
        timeout_m: 180
    trv:
      entity_id: climate.trv_office
  - id: bathroom
    name: "Bathroom"
    precision: 1
    sensors:
      - entity_id: sensor.roomtemp_bathroom
        role: primary
        timeout_m: 180
    trv:
      entity_id: climate.trv_bathroom